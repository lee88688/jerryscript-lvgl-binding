diff a/quickjs_wrap.c b/quickjs_wrap.c	(rejected hunks)
@@ -15,6 +15,8 @@
 	if (!runtime) {
         runtime = JS_NewRuntime();
         ctx = JS_NewContext(runtime);
+        JSValue global = JS_GetGlobalObject(ctx);
+        JS_SetPropertyStr(ctx, global, "addButton", JS_NewCFunction(ctx, addNewButton, "addButton", 0));
     }
 	JSValue result =
 	    JS_Eval(ctx, str, strlen(str), "<evalScript>", JS_EVAL_TYPE_GLOBAL);
